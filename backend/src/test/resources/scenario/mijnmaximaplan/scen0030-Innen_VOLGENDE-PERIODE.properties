# Zie https://nl-sip.define.logica.com/wiki/Spade/Usage/ScenarioRunner voor meer uitleg.

# Scenario: 
# Data script before zet tijd ver vooruit (t.o.v. de gebruikelijke test systeem datum). Dit zou een vrijwel identiek resultaat op moeten leveren, maar dan voor de eerst volgende periode (en niet voor een periode ver vooruit). 

#IGNORE = true

# CHANGE SYSTEM TIME WAY AHEAD
DATASCRIPT_BEFORE_01 = scen0030-A_CHANGE_DATA.sql

# TESTSCRIPT
START_PROCESS 		= Innen, functioneel_beheerder_user
WAIT_FOR_COMPLETION = 30

# EXPECTED RESULT
ASSERT_PROCESS_ROW_COUNT_01 = VERWERKINGEN, +1
ASSERT_PROCESS_ROW_COUNT_02 = FACTUREN, +1
ASSERT_PROCESS_ROW_COUNT_03 = FACTUURREGELS, +2
# 1 verwerking
ASSERT_PROCESS_VALUE_COUNT_01 = VERWERKINGEN.SAMENVATTING='In deze verwerking zijn 1 facturen aangemaakt met een totaalbedrag van 432.47 euro incl. BTW.', +1
ASSERT_PROCESS_VALUE_COUNT_02 = VERWERKINGEN.STARTPERIODE='2017-03-01', +1
ASSERT_PROCESS_VALUE_COUNT_03 = VERWERKINGEN.EINDPERIODE='2017-04-01', +1
# 1 factuur
ASSERT_PROCESS_VALUE_COUNT_11 = FACTUREN.DATUM='2018-01-01', +1
# 2 factuurregels
ASSERT_PROCESS_VALUE_COUNT_21 = FACTUURREGELS.TOTAALINCLBTW=223.13, +1
ASSERT_PROCESS_VALUE_COUNT_22 = FACTUURREGELS.TOTAALINCLBTW=209.34, +1

# SHOW CHANGED DATA
PRINT_TABLE_ROWS_01 = VERWERKINGEN
PRINT_TABLE_ROWS_02 = FACTUREN
PRINT_TABLE_ROWS_03 = FACTUURREGELS
PRINT_TABLE_ROWS_04 = PA_SYS_MESSAGE

# CHANGE SYSTEM TIME BACK TO ORIGINAL
DATASCRIPT_AFTER_01 = scen0030-Z_RESTORE_DATA.sql