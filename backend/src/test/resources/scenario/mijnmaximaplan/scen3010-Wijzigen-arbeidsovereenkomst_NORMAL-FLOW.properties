# Zie https://nl-sip.define.logica.com/wiki/Spade/Usage/ScenarioRunner voor meer uitleg.

# Scenario: 
# Normale scenario. Het werkgever systeem wijzigd de gegevens van een arbeidsverhouding. 
#	- De oude arbeidsverhouding wordt afgesloten met een geldigtot datum
#	- Een nieuwe versie van de arbeidsverhouding wordt gemaakt met hierin de gewijzigde gegevens
#	- De premie is herberekend

#IGNORE = true

# TESTSCRIPT
START_PROCESS 				   = Wijzigen arbeidsovereenkomst, werkgever_systeem_user
task01.CLAIM_NEXT_GROUP_TASK   = werkgever_systeem, werkgever_systeem_user
task01.ingangWijziging = '20-03-2017'
task01.nieuweFulltimeJaarsalaris = 100000.25
task01.betreftBsnNr = 121212121

# EXPECTED RESULT
task01.FINAL = true
ASSERT_PROCESS_ROW_COUNT_01   	= ARBEIDSOVEREENKOMSTEN, +1
ASSERT_PROCESS_ROW_COUNT_02   	= PA_SYS_REPORT, 0
# een nieuwe versie van de arbeidsovereenkomst
ASSERT_PROCESS_VALUE_COUNT_01 = ARBEIDSOVEREENKOMSTEN.GELDIGTOT = '2017-03-20', +1
ASSERT_PROCESS_VALUE_COUNT_02 = ARBEIDSOVEREENKOMSTEN.GELDIGVAN = '2017-03-20', +1
ASSERT_PROCESS_VALUE_COUNT_03 = ARBEIDSOVEREENKOMSTEN.GELDIGTOT = '2099-12-31', +0
# en die nieuwe versie heeft een nieuw (opgegeven) salaris, maar het nieuwe part time % is niet opgegeven, dus ongewijzigd t.o.v. de vorige versie. 
ASSERT_PROCESS_VALUE_COUNT_04 = ARBEIDSOVEREENKOMSTEN.FULLTIMEJAARSALARIS=100000.25, +1
ASSERT_PROCESS_VALUE_COUNT_05 = ARBEIDSOVEREENKOMSTEN.PARTTIMEPERCENTAGE=60.00, +1
# een nieuwe versie van de premie
ASSERT_PROCESS_VALUE_COUNT_10 = PREMIES.GELDIGTOT = '2017-03-20', +1
ASSERT_PROCESS_VALUE_COUNT_11 = PREMIES.GELDIGVAN = '2017-03-20', +1
ASSERT_PROCESS_VALUE_COUNT_12 = PREMIES.GELDIGTOT = '2099-12-31', +0
# de premie (en allerlei aangrenzende gegevens) zijn herberekend
ASSERT_PROCESS_VALUE_COUNT_13 = PREMIES.JAARPREMIEPERCENTAGE=10.66, +1
ASSERT_PROCESS_VALUE_COUNT_14 = PREMIES.GRONDSLAG=50000.25, +1
ASSERT_PROCESS_VALUE_COUNT_15 = PREMIES.JAARPREMIEFULLTIME=5330.03, +1
ASSERT_PROCESS_VALUE_COUNT_16 = PREMIES.PERSOONLIJKPERCENTAGE=60.00, +1
ASSERT_PROCESS_VALUE_COUNT_17 = PREMIES.JAARPREMIEWERKELIJK=3198.02, +1

# SHOW CHANGED DATA
PRINT_TABLE_ROWS_01 = ARBEIDSOVEREENKOMSTEN
PRINT_TABLE_ROWS_02 = DEELNAMES
PRINT_TABLE_ROWS_03 = PREMIES
PRINT_TABLE_ROWS_04 = PA_SYS_REPORT
