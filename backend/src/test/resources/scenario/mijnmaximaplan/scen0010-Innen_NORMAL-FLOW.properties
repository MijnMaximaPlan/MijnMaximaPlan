# Zie https://nl-sip.define.logica.com/wiki/Spade/Usage/ScenarioRunner voor meer uitleg.

# Scenario: 
# Normale scenario. Periodiek (per maand) wordt dit proces opgestart door het systeem (of handmatig door admin). Dit moet leiden tot een factuur met factuurregels.

#IGNORE = true

# TESTSCRIPT

START_PROCESS 		= Innen, functioneel_beheerder_user
WAIT_FOR_COMPLETION = 30

# EXPECTED RESULT
ASSERT_PROCESS_ROW_COUNT_01 = VERWERKINGEN, +1
ASSERT_PROCESS_ROW_COUNT_02 = FACTUREN, +1
ASSERT_PROCESS_ROW_COUNT_03 = FACTUURREGELS, +2
# 1 verwerking
ASSERT_PROCESS_VALUE_COUNT_01 = VERWERKINGEN.SAMENVATTING='In deze verwerking zijn 1 facturen aangemaakt met een totaalbedrag van 432.47 euro incl. BTW.', +1
ASSERT_PROCESS_VALUE_COUNT_02 = VERWERKINGEN.STARTPERIODE='2017-02-01', +1
ASSERT_PROCESS_VALUE_COUNT_03 = VERWERKINGEN.EINDPERIODE='2017-03-01', +1
# 1 factuur
ASSERT_PROCESS_VALUE_COUNT_11 = FACTUREN.DATUM='2017-03-02', +1
# 2 factuurregels
ASSERT_PROCESS_VALUE_COUNT_21 = FACTUURREGELS.TOTAALINCLBTW=223.13, +1
ASSERT_PROCESS_VALUE_COUNT_22 = FACTUURREGELS.TOTAALINCLBTW=209.34, +1

# SHOW CHANGED DATA
PRINT_TABLE_ROWS_01 = VERWERKINGEN
PRINT_TABLE_ROWS_02 = FACTUREN
PRINT_TABLE_ROWS_03 = FACTUURREGELS
PRINT_TABLE_ROWS_04 = PA_SYS_MESSAGE
